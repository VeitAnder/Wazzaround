<div class="form-group form-group-helptext">
  <label for="address">{{'Meeting spot of this activity' | translate}}</label>

  <div aiotoggleitem
       toggleitemlabel="{{'helptext' | translate}}"
       class="aiotoggleitem">
    {{'helptext activity meeting spot' | translate}}
  </div>

  <div class="location input-group input-group-lg">
    <input type="text"
           class="form-control"
           id="address"
           name="address"
           placeholder="{{'Enter address of meeting spot' | translate}}"
           ng-model="activity.address"
           ng-options="address.formatted_address as address.formatted_address for address in getGoogleAddressAutoCompletionList($viewValue)"
           bs-typeahead
           ng-blur="setAddressViaAddressfield()"
           select-on-click
           required
        >
    <span class="input-group-btn">
      <button class="btn"
              type="submit"
              ng-click="setAddressViaAddressfield()"
          >
        {{'Set Location' | translate}}
      </button>
    </span>
  </div>

  <span ng-hide="activity.address"
        class="alert alert-error">{{'Please select a location.' | translate}}
  </span>

</div>

<div style="width:100%; height:400px; overflow:hidden; position:relative;">

  <google-map
      center='activitybackendmap.map.center'
      zoom='activitybackendmap.map.zoom'
      draggable='true'
      events='activitybackendmap.map.events'
      options='activitybackendmap.map.options'
      >

    <!--marker for clicked position can not put google.map.animations.BOUNCE , since it is not initialized yet-->
    <div ng-init="opts = {animation:0}"
         ng-if="activity.address"
        >

      <marker coords="activitybackendmap.map.clickedMarker"
              options="opts"
              icon='activitybackendmap.getMarkerIcon(activity.category.main)'
              content="activity.name[getAvailableTranslationLanguageKey(activity.name)]"
              idKey='1'
          >
      </marker>

      <!--<marker-label content="getMarkerLabel()"-->
      <!--anchor="44 0"-->
      <!--class="marker-labels"-->
      <!--/>-->
    </div>

  </google-map>

</div>

<div class="alert alert-info"
    >{{'Click in map to reposition location of activity' | translate}}
</div>