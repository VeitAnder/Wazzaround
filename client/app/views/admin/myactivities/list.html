<div class="myactivities-list enable_hover">
  <div class="listheader">
    <div class="activity cell first">
      {{'Activity' | translate}}
    </div>
    <div class="category-main cell">
      {{'Main Category' | translate}}
    </div>
    <div class="category-sub cell">
      {{'Sub Category' | translate}}
    </div>
    <div class="location cell">
      {{'Location' | translate}}
    </div>
    <div class="edit cell last">

    </div>
  </div>

  <div class="listbody">

    <div class="listrow"
         ng-repeat="activity in activities"
         ng-class="{denied : activity.denied, published : activity.published}"
         data-ng-click="open(activity)"
      >

      <div class="activity cell first">
        <cloudinaryimage data-publicid="{{activity.images[0].public_id}}"
                         data-format="{{activity.images[0].format}}"
                         data-width="50"
                         data-height="50"
          >
        </cloudinaryimage>
        {{activity.name | languageselect}}
      </div>
      <div class="category-main cell">
        {{activity.category.main | translate}}
      </div>
      <div class="category-sub cell">
        <span ng-repeat="subcat in activity.category.subs">{{subcat.key | translate}}
          <br>
        </span>
      </div>

      <div class="location cell">
        {{activity.address}}
      </div>

      <div class="edit cell last align-right">

        <span ng-switch="activity.published">

          <!--ALL UNPUBLISHED ACTIVITIES-->

          <!-- DENIED = unpublished + denied -->
          <span ng-switch-when="false">
            <span
              ng-if="activity.denied"
              class="label label-danger"
              >
              {{'denied' | translate}}
            </span>

            <span ng-switch="activity.unreviewedChanges > 0">

              <!-- NEW = unpublished + unreviewedChanges + not denied -->
              <span ng-switch-when="true"
                    ng-if="!activity.denied"
                >

                <span class="label label-info">
                  {{'under review' | translate}}
                </span>
              </span>

            </span>
          </span>

          <!--ALL PUBLISHED ACTIVITIES-->

          <span ng-switch-when="true">

            <span ng-switch="activity.unreviewedChanges > 0">
              <span ng-switch-when="true">

                <span class="label label-info">
                  {{'under review' | translate}}
                </span>

              </span>
            </span>

          </span>
          <span ng-switch-default>-</span>
        </span>

      </div>

    </div>

  </div>
</div>

