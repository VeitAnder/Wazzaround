<h2>Account</h2>
<h3>New Activity</h3>

<form role="form"
      name="valForm"
      novalidate
      class="activity-edit"
    >
  <fieldset>
    <legend>Global Activity Info:</legend>
    <div class="form-group">
      <label for="name">Name of Activity</label>
      <input type="text"
             class="form-control"
             id="name"
             placeholder="Enter name of activity"
             ng-model="activity.name"
          >
    </div>

    <div class="form-group">
      <label for="name">Company offering this activity</label>
      <input type="text"
             class="form-control"
             id="name"
             placeholder="Enter company "
             ng-model="activity.company"
          >
    </div>

    <div style="width:100%; height:400px; overflow:hidden; position:relative;">

      <google-map
          center='map.center'
          zoom='map.zoom'
          draggable='true'
          events='map.events'
          options='map.options'
          >

        <!--marker for clicked position can not put google.map.animations.BOUNCE , since it is not initiaized yet-->
        <div ng-init="opts = {animation:0}">
          <marker coords="map.clickedMarker"
                  options="opts"
                  icon='getMarkerIcon()'
              >
          </marker>
          <!--<marker-label content="getMarkerLabel()"-->
          <!--anchor="44 0"-->
          <!--class="marker-labels"-->
          <!--/>-->
        </div>

      </google-map>

    </div>

    <div class="form-group">
      <label for="categoryMain">Main Category</label>
      <select class="form-control"
              id="categoryMain"
              required
              ng-model="activity.category.main"
          >
        <option disabled="disabled">Select Main Category</option>
        <option
            ng-repeat="category in categories"
            value="{{category.key}}"
            ng-selected="activity.category.main === category.key"
            >{{category.title}}
        </option>
      </select>
    </div>

    <div class="form-group"
         data-ng-show="activity.category.main"
        >
      <span>Select Sub Category</span>
      <br>
      <br>

      <span class="alert alert-error"
            data-ng-show="activity.category.subs.length >= 2">You can choose 2 Subcategories at most!
      </span>
      <br>
      <br>
      <span class="alert alert-error"
            data-ng-show="activity.category.subs.length === 0">You must choose at least 1 Subcategory!
      </span>
      <br>
      <br>

      <span
          ng-repeat="subcategory in getSubCategories()"
          > {{subcategory.title}}
        <input type="checkbox"
               ng-model="value$index"
               data-ng-change="setSubcat(subcategory.title)"
               ng-true-value="{{subcategory.title}}"
               ng-false-value=""
               ng-checked="isTitleInSubcats(subcategory.title)"
               ng-disabled="!isTitleInSubcats(subcategory.title) && activity.category.subs.length >= 2"
            />
      </span>
    </div>

    <div class="form-group">
      <label>Description</label>
      <!--<div text-angular-->
      <!--ng-model="activity.description">-->
      <!--</div>   -->

      <textarea style="width: 100%;"
                rows="5"
                ng-model="activity.description">
      </textarea>
    </div>

    <div class="form-group img-selector">
      <label>Images</label>
      <div class="img-block">
        <img src="http://www.o-solemio.de/wp-content/uploads/Piemont/Locanda_Riziere/Piemont_Langhe.jpg"/>
        <div class="img-edit">
          <a class="delete"
             href=""
             ng-click="delete()">delete
            <i>x</i>
          </a>
        </div>
      </div>
      <div class="img-block">
        <img src="http://www.welt-atlas.de/datenbank/fotos/1-941/big/1-941-42.jpg"/>
        <div class="img-edit">
          <a class="delete"
             href=""
             ng-click="delete()">delete
            <i>x</i>
          </a>
        </div>
      </div>
      <div class="img-block img-new">
        <a href=""
           ng-click="">
          +
        </a>
      </div>
    </div>
  </fieldset>

  <fieldset>
    <legend>What can be booked?</legend>

    <div class="bookableitems">

    </div>

    <p></p>

    <!-- New Stuff -->
    <div class="bookableitems">
      <div class="input_label">Bookable Items:</div>
      <p>
        <button class="btn"
                ng-click="activity.createBookableItems()">create a new Bookable Item
        </button>
      </p>

      <div class="bookableitem bookableitem-add"
           ng-repeat="bookableItem in activity.bookableItems">
        <div class="bookableitem-header">
          <div class="bookableitem-name cell first">

            <label for="itemDescription">Description</label>
            <input type="text"
                   class="form-control"
                   id="itemDescription"
                   placeholder="Description of the Item"
                   ng-model="bookableItem.ref().description"
                >

          </div>
          <div class="bookableitem-price cell">
            <label for="itemPrice">Price</label>
            <input type="text"
                   class="form-control"
                   id="itemPrice"
                   placeholder="Amount â‚¬"
                   ng-model="bookableItem.ref().price"
                >
          </div>

          <div class="listaction cell last">
            <a class="add"
               ng-click="">
              <span>add Item</span>
            </a>
          </div>

        </div>

        <div class="bookableitem-body">
          <div class="event-add">
            <a class="btn-icon-add"
               ng-click="bookableItem.ref().createEvents()">
              <span class="btn-icon-left"></span>
              Scedule Event
            </a>

          </div>
          <div class="event-new"
              ng-repeat="event in bookableItem.ref().events">

            <div class="form-group">
              <input type="text"
                     size="10"
                     class="form-control input-date-from"
                     ng-model="event.start"
                     data-autoclose="0"
                     placeholder="Date"
                     bs-datepicker>

              <input type="text"
                     size="8"
                     class="form-control input-time"
                     ng-model="event.start"
                     data-autoclose="0"
                     placeholder="Time"
                     bs-timepicker
                  >

            <input type="text"
                   class="form-control input-duration"
                   id="duration"
                   placeholder="Duration (h)"
                   ng-model="event.duration"
                >

            <input type="text"
                   class="form-control input-quantity"
                   id="name"
                   placeholder="Quantity"
                   ng-model="event.quantity"
                >
            </div>

            <div class="event-new-repeat">
              <label class="checkbox-label">
                <input type="checkbox"
                       ng-model="event.repeating">
                repeating
              </label>

              <div class="repeating"
                   ng-show="event.repeating">
                <label class="checkbox-label checkbox-label-inline">
                  <input type="checkbox"
                         ng-model="event.dayOfWeek.Mon">
                  Mon
                </label>
                <label class="checkbox-label checkbox-label-inline">
                  <input type="checkbox"
                         ng-model="event.dayOfWeek.Tue">
                  Tue
                </label>
                <label class="checkbox-label checkbox-label-inline">
                  <input type="checkbox"
                         ng-model="event.dayOfWeek.Wed">
                  Wed
                </label>
                <label class="checkbox-label checkbox-label-inline">
                  <input type="checkbox"
                         ng-model="event.dayOfWeek.Thu">
                  Thu
                </label>
                <label class="checkbox-label checkbox-label-inline">
                  <input type="checkbox"
                         ng-model="event.dayOfWeek.Fri">
                  Fri
                </label>
                <label class="checkbox-label checkbox-label-inline">
                  <input type="checkbox"
                         ng-model="event.dayOfWeek.Sat">
                  Sat
                </label>
                <label class="checkbox-label checkbox-label-inline">
                  <input type="checkbox"
                         ng-model="event.dayOfWeek.Son">
                  Son
                </label>

                <div class="availability-time cell">
                  <input type="text"
                         class="form-control"
                         ng-model="event.end"
                         data-min-date=""
                         placeholder="Until"
                         bs-datepicker
                         autoclose="true"
                         value=""
                      >
                </div>
              </div>

            </div>
            <a class="btn-icon-delete"
               ng-click=""
                >remove<span class="btn-icon-right"></span>
            </a>

          </div>
        </div>
      </div>
    </div>

    </div>
    </div>

  </fieldset>














  <fieldset>
    <legend>What can be booked?</legend>

    <div class="bookableitems">

      <div class="bookableitem">
        <div class="bookableitem-header">
          <div class="bookableitem-name cell first">
            <input type="text"
                   class="form-control"
                   placeholder="Name of new Item"
                   value="Quad 250 ccm"/>

          </div>
          <div class="bookableitem-price cell">
            <input type="number"
                   class="form-control"
                   placeholder="Price in â‚¬"
                   value="450"/>
          </div>
          <div class="listaction cell last">
            <a class="delete">
              <span>delete Item</span>
            </a>
          </div>

        </div>

        <div class="bookableitem-body">
          <h4>When can it be booked?</h4>

          <div class="event-list">
            <div class="event-header">
              <div class="event-date cell first">Date</div>
              <div class="event-time cell">Time</div>
              <div class="event-quantity cell">Qty.</div>
              <div class="listaction cell last">
              </div>
            </div>
            <div class="event">
              <div class="event-date cell first">24.07.2014</div>
              <div class="event-time cell">11.30 am</div>
              <div class="event-quantity cell">2x</div>
              <div class="listaction cell last">
                <a class="edit">
                  <span>edit</span>
                </a>
                <a class="delete">
                  <span>delete</span>
                </a>
              </div>
            </div>
            <div class="event">
              <div class="event-date cell first">24.07.2014</div>
              <div class="event-time cell">08.30 am</div>
              <div class="event-quantity cell">2x</div>
              <div class="listaction cell last">
                <a class="edit">
                  <span>edit</span>
                </a>
                <a class="delete">
                  <span>delete</span>
                </a>
              </div>
            </div>
            <div class="event">
              <div class="event-date cell first">24.07.2014</div>
              <div class="event-time cell">11.30 am</div>
              <div class="event-quantity cell">2x</div>
              <div class="listaction cell last">
                <a class="edit">
                  <span>edit</span>
                </a>
                <a class="delete">
                  <span>delete</span>
                </a>
              </div>
            </div>
          </div>

          <div class="event-add align-right">
            <a class="btn-icon-add">Add Event
              <span class="btn-icon-right"></span>
            </a>

          </div>
        </div>

      </div>

      <div class="bookableitem bookableitem-add">

        <div class="bookableitem-header">
          <div class="bookableitem-name cell first">
            <input type="text"
                   class="form-control"
                   placeholder="Name of new Item"/>
          </div>
          <div class="bookableitem-price cell">
            <input type="number"
                   class="form-control"
                   placeholder="Price in â‚¬"/>
          </div>
          <div class="listaction cell last">
            <a class="add">
              <span>add Item</span>
            </a>
          </div>
        </div>
      </div>

    </div>

  </fieldset>

  <div class="buttonbar margin-top">

    <a data-ng-show="!isNewMode()"
       class="btn btn-alert float-left"
       data-ng-click="delete()">delete
    </a>

    <button class="btn"
            ng-click="save()"
        >speichern
    </button>
    <a class="cancel"
       ng-click="cancel()"
        >abbrechen
    </a>

  </div>

  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>

</form>