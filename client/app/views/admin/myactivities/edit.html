<h2>Account</h2>
<h3>New Activity</h3>

<form role="form"
      name="valForm"
      novalidate
      class="activity-edit"
    >
  <div class="form-group">
    <label for="name">Name of Activity</label>
    <input type="text"
           class="form-control"
           id="name"
           placeholder="Enter name of activity"
           ng-model="activity.name"
        >
  </div>

  <div class="form-group">
    <label for="name">Company offering this activity</label>
    <input type="text"
           class="form-control"
           id="name"
           placeholder="Enter company "
           ng-model="activity.company"
        >
  </div>

  <div style="width:100%; height:400px; overflow:hidden; position:relative;">

    <google-map
        center='map.center'
        zoom='map.zoom'
        draggable='true'
        events='map.events'
        options='map.options'
        >

      <!--marker for clicked position can not put google.map.animations.BOUNCE , since it is not initiaized yet-->
      <div ng-init="opts = {animation:0}">
        <marker coords="map.clickedMarker"
                options="opts"
                icon='getMarkerIcon()'
            >
        </marker>
        <!--<marker-label content="getMarkerLabel()"-->
        <!--anchor="44 0"-->
        <!--class="marker-labels"-->
        <!--/>-->
      </div>

    </google-map>

  </div>

  <div class="form-group">
    <label for="categoryMain">Main Category</label>
    <select class="form-control"
            id="categoryMain"
            required
            ng-model="activity.category.main"
        >
      <option disabled="disabled">Select Main Category</option>
      <option
          ng-repeat="category in categories"
          value="{{category.key}}"
          ng-selected="activity.category.main === category.key"
          >{{category.title}}
      </option>
    </select>
  </div>

  <div class="form-group"
       data-ng-show="activity.category.main"
      >
    <label for="categorySub">Sub Category</label>
    <select class="form-control"
            id="categorySub"
            required
            ng-model="activity.category.sub"
        >
      <option disabled>Select Sub Category</option>
      <option
          ng-repeat="subcategory in getSubCategories()"
          value="{{subcategory.key}}"
          ng-selected="activity.category.sub === subcategory.key"
          >{{subcategory.title}}
      </option>
    </select>
  </div>

  <div class="form-group">
    <label>Description</label>
    <!--<div text-angular-->
    <!--ng-model="activity.description">-->
    <!--</div>   -->

    <textarea style="width: 100%;"
              rows="5"
              ng-model="activity.description">
    </textarea>
  </div>

  <div class="form-group img-selector">
    <label>Images</label>
    <div class="img-block">
      <img src="http://www.o-solemio.de/wp-content/uploads/Piemont/Locanda_Riziere/Piemont_Langhe.jpg"/>
      <div class="img-edit">
        <a class="delete"
           href=""
           ng-click="delete()">delete
          <i>x</i>
        </a>
      </div>
    </div>
    <div class="img-block">
      <img src="http://www.welt-atlas.de/datenbank/fotos/1-941/big/1-941-42.jpg"/>
      <div class="img-edit">
        <a class="delete"
           href=""
           ng-click="delete()">delete
          <i>x</i>
        </a>
      </div>
    </div>
    <div class="img-block img-new">
      <a href=""
         ng-click="">
        +
      </a>
    </div>
  </div>

  <div class="availability">
    <div class="input_label">Availability</div>
    <div class="availability-list">

      <!--<div class="availability-header">-->
      <!--<div class="month cell first">February</div>-->
      <!--</div>-->


    </div>

    <p></p>

    <!-- New Stuff -->
    <div class="bookableItem">
      <div class="input_label">Bookable Items:</div>

      <p><button class="btn" ng-click="activity.createBookableItems()">create a new Bookable Item</button></p>


      <div ng-repeat="bookableItem in activity.bookableItems">
        <label for="name">Description</label>
        <input type="text"
               class="form-control"
               id="itemDescription"
               placeholder="Description of the Item"
               ng-model="bookableItem.ref().description"
          >

        <label for="name">Price</label>
        <input type="text"
               class="form-control"
               id="itemPrice"
               placeholder="Ammount â‚¬"
               ng-model="bookableItem.ref().price"
          >

        <button class="cancel"
           ng-click=""
          >remove
        </button>

        <div calss="events">
          <p><button class="btn" ng-click="bookableItem.ref().createEvents()">schedule event</button></p>

          <div ng-repeat="event in bookableItem.ref().events">

            <div class="availability-entry">
              <!-- Datum incl Uhrzeit-->
              <div class="availability-date cell first">
                <input type="text"
                       class="form-control"
                       ng-model="event.start"
                       data-min-date=""
                       placeholder="Date"
                       bs-datepicker
                       autoclose="true"
                       value=""
                >
              </div>
              <div class="availability-time cell">
                <input type="text"
                       class="form-control"
                       ng-model="event.end"
                       data-min-date=""
                       placeholder="Time"
                       bs-datepicker
                       autoclose="true"
                       value=""
                >
              </div>
              <div class="availability-amount cell last align-right">
                <input type="text"
                       class="form-control"
                       id="name"
                       placeholder="Amount"
                       ng-model="event.quantity"
                >
              </div>

              <button class="cancel"
                      ng-click=""
                >remove
              </button>

              <span class="checkbox" ng-click="event.repeating = true; event.dayOfWeek = {};">
                repeating
              </span>

              <div class="repeating" ng-show="event.repeating">
                <span class="checkbox inline" ng-click="event.dayOfWeek.Mon = true">Mon</span>
                <span class="checkbox inline" ng-click="event.dayOfWeek.Tue = true">Tue</span>
                <span class="checkbox inline" ng-click="event.dayOfWeek.Wed = true">Wed</span>
                <span class="checkbox inline" ng-click="event.dayOfWeek.Thu = true">Thu</span>
                <span class="checkbox inline" ng-click="event.dayOfWeek.Fri = true">Fri</span>
                <span class="checkbox inline" ng-click="event.dayOfWeek.Sat = true">Sat</span>
                <span class="checkbox inline" ng-click="event.dayOfWeek.Son = true">Son</span>
              </div>


            </div>


          </div>

        </div>
      </div>
    </div>


  </div>

  <div class="buttonbar margin-top">


    <a data-ng-show="!isNewMode()"
       class="btn btn-alert float-left"
       data-ng-click="delete()">delete
    </a>


    <button class="btn"
            ng-click="save()"
        >speichern
    </button>
    <a class="cancel"
       ng-click="cancel()"
        >abbrechen
    </a>


  </div>

  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>
  <br/>

</form>