<div class="container">
  <div class="row">
    <div class="col-sm-12">

      <h2>{{'Account' | translate}}</h2>

      <h3>{{'My Activities' | translate}}</h3>

      <div
          class="activity-detail detail-category-{{activity.category.main}}"
          >

        <div class="buttonbar buttonbar-top">
          <a class="btn btn-small"
             href="#/admin/myactivities/{{activity._id}}/edit/">{{'edit' | translate}}
          </a>
          <a class="btn btn-alert btn-small"
             data-ng-click="delete()">{{'delete' | translate}}
          </a>
        </div>

        <p class="alert alert-large alert-block alert-success"
           ng-if="activity.published">
          <b>{{'Your activity is published' | translate}}</b>
        </p>
        <p class="alert alert-large alert-error"
           ng-if="!activity.published">
          <b>{{'Your activity isnt published yet' | translate}}</b>
        </p>

        <h5 class="category no-margin-top">
          {{activity.category.main | translate}}
          <span class="category-sub"
                ng-repeat="subcat in activity.category.subs">
            / {{subcat.key | translate}}
          </span>
        </h5>
        <h4>
          {{activity.name | languageselect}}
        </h4>

        <h6 class="no-margin-top">
          {{'Offered by' | translate}} {{activity.company}}
        </h6>

        <div class="location">
          <div class="input-label">{{'Location' | translate}}:</div>

          <google-map
              center='map.center'
              zoom='map.zoom'
              draggable='true'
              options='map.options'
              >
            <marker
                coords='map.markercoords'
                icon='getMarkerIcon()'
                >
              <marker-label content="activity.name[getAvailableTranslationLanguageKey(activity.name)]"
                            anchor="22 0"
                            class="marker-labels marker-label-category-{{activity.category.main}}"
                  />
            </marker>

          </google-map>

        </div>

        <div class="description">
          <div class="img-block img-block-right"
               ng-show="activity.images.length > 0"
              >
            <cloudinaryimage ng-repeat="image in activity.images"
                             data-publicid="{{image.public_id}}"
                             data-format="{{image.format}}"
                             data-width="250"
                             data-height="150"
                >
            </cloudinaryimage>
          </div>
          <div ta-bind
               ng-model="activity.description[getAvailableTranslationLanguageKey(activity.description)]"></div>
        </div>

        <div class="availability">
          <div class="input-label">{{'Availability' | translate}}</div>

          <!--<div class="availability-list">-->

          <bookableitemlist data-activity="activity"
              >
          </bookableitemlist>

          <!--<div class="availability-header">-->
          <!--<div class="month cell first">February</div>-->
          <!--</div>-->

          <!--<div class="availability-entry"-->
          <!--ng-repeat="available in activity.availability">-->
          <!--<div class="availability-date cell first">-->
          <!--{{available.start | momentjs:{format: 'DD.MM.YYYY'} }}-->
          <!--</div>-->
          <!--<div class="availability-time cell">-->
          <!--{{available.end | momentjs:{format: 'DD.MM.YYYY'} }}-->
          <!--</div>-->
          <!--<div class="availability-amount cell last align-right">-->
          <!--{{available.quantity}}x-->
          <!--</div>-->
          <!--</div>-->

          <!--</div>-->
        </div>
        <div class="buttonbar margin-top">
          <a class="text-link float-left"
             href="#/admin/myactivities/">{{'back to my activities' | translate}}
          </a>
          <a class="btn btn-small"
             href="#/admin/myactivities/{{activity._id}}/edit/">{{'edit' | translate}}
          </a>
          <a class="btn btn-alert btn-small"
             data-ng-click="delete()">{{'delete' | translate}}
          </a>
        </div>

      </div>

    </div>
  </div>
</div>